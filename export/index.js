"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var WindowEventManager=function(){function WindowEventManager(){var debug=0<arguments.length&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,WindowEventManager),this._listeners=new Map,this.debug=debug}return _createClass(WindowEventManager,[{key:"getListenerDetailsByType",value:function(type){return this._listeners.get(type)}},{key:"addEventListener",value:function(listener,details,currentListenerDetailsForType){var target=0<arguments.length&&void 0!==listener?listener:window,type=details,listener=currentListenerDetailsForType,details=[{target:target,listener:listener}];this._listeners.size&&(currentListenerDetailsForType=this.getListenerDetailsByType(type),Array.isArray(currentListenerDetailsForType)&&currentListenerDetailsForType.length&&(details=[].concat(_toConsumableArray(details),_toConsumableArray(currentListenerDetailsForType)))),this._listeners.set(type,details),target.addEventListener(type,listener),this.debug&&console.debug("The event listener for the type: "+type+" has been added for the target: "+target)}},{key:"removeEventListenersByType",value:function(type,argument_1){if(!(!(1<arguments.length&&void 0!==argument_1)||argument_1)||this._listeners.size){var currentListenerDetailsForType=this.getListenerDetailsByType(type);if(Array.isArray(currentListenerDetailsForType)&&currentListenerDetailsForType.length){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=currentListenerDetailsForType[Symbol.iterator]();!(_iteratorNormalCompletion=(target=_iterator.next()).done);_iteratorNormalCompletion=!0){var listener=target.value,target=listener.target,listener=listener.listener;target.removeEventListener(type,listener)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}this._listeners.delete(type),this.debug&&console.debug("All listeners for the type "+type+" has been removed")}else console.warn("No listener saved for the type "+type)}else console.warn("No listener saved")}},{key:"removeEventListenersByTypes",value:function(argument_0){var types=0<arguments.length&&void 0!==argument_0?argument_0:[];if(this._listeners.size){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=types[Symbol.iterator]();!(_iteratorNormalCompletion2=(type=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var type=type.value;this.removeEventListenersByType(type,!1)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}this.debug&&console.debug("All listeners for the following types: "+JSON.stringify(types)+" has been removed")}else console.warn("No listener saved")}},{key:"removeEventListenersByTarget",value:function(target,argument_1){var _this=this;if(!(!(1<arguments.length&&void 0!==argument_1)||argument_1)||this._listeners.size){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this._listeners.keys()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){!function(type){var details=_this.getListenerDetailsByType(type),updatedDetails=[];details.forEach(function(value){value.target===target?value.target.removeEventListener(type,value.listener):updatedDetails.push(value)}),updatedDetails.length&&_this._listeners.set(type,updatedDetails)}(_step3.value)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}else console.warn("No listener saved")}},{key:"removeEventListenersByTargets",value:function(argument_0){var targets=0<arguments.length&&void 0!==argument_0?argument_0:[];if(this._listeners.size){var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _iterator4=targets[Symbol.iterator]();!(_iteratorNormalCompletion4=(target=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var target=target.value;this.removeEventListenersByTarget(target,!1)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}this.debug&&console.debug("All listeners for the following targets: "+JSON.stringify(targets)+" has been removed")}else console.warn("No listener saved")}}]),WindowEventManager}();module.exports.WindowEventManager=new WindowEventManager;